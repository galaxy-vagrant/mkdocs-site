<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>单目相机m - My Docs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">My Docs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Welcome to MkDocs</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">CV</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">单目相机m</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Embedded Systems</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Jeston</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../Embedded%20Systems/jeston/%E5%88%B7%E6%9C%BA/" class="dropdown-item">【刷机】jetpack5.1.1-----＞jetpack6.1-CSDN 博客</a>
</li>
            
<li>
    <a href="../../Embedded%20Systems/jeston/%E5%AE%98%E5%AE%A3/" class="dropdown-item">官宣</a>
</li>
            
<li>
    <a href="../../Embedded%20Systems/jeston/%E5%BC%80%E6%9C%BA%E4%B8%AA%E6%80%A7%E5%8C%96/" class="dropdown-item">开机个性化</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">个人随笔</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../%E4%B8%AA%E4%BA%BA%E9%9A%8F%E7%AC%94/202412/" class="dropdown-item">202412</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">开发工具</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/git/" class="dropdown-item">Git</a>
</li>
                                    
<li>
    <a href="../../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/mkdocs/" class="dropdown-item">Mkdocs</a>
</li>
                                    
<li>
    <a href="../../%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/vscode/" class="dropdown-item">Vscode</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">最新发布</a>
                                <ul class="dropdown-menu">
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Nvidia</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../%E6%9C%80%E6%96%B0%E5%8F%91%E5%B8%83/nvidia/Jeston%20%26%20Embedded%20Systems/" class="dropdown-item">Jeston & Embedded Systems</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../.." class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../Embedded%20Systems/jeston/%E5%88%B7%E6%9C%BA/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="2"><a href="#_1" class="nav-link">什么是相机校准?</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="2"><a href="#bev" class="nav-link">从单目相机图像到BEV视图</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h2 id="_1">什么是相机校准?</h2>
<p>为了从2D图像中提取度量信息，相机校准是3D计算机视觉的必要步骤
它估计相机的镜头和图像传感器的参数;你可以使用这些参数来校正镜头畸变，以世界单位测量物体的大小，或者确定相机在场景中的位置
这些任务在机器视觉等应用中用于检测和测量物体。它们也用于机器人、导航系统和3-D场景重建
双目相机选取一个相机的相机坐标系作为世界坐标系，相机一和相机2完全是刚性变化，可以通过一个变换矩阵转换。
知道一个2维点，可以对应3维的一条射线。
外参数，与世界坐标系的对应关系。</p>
<h2 id="bev">从单目相机图像到BEV视图</h2>
<p>将单目相机的图像转换为鸟瞰视图（BEV, Bird's Eye View）是计算机视觉中的一个挑战，通常用于自动驾驶、机器人导航等领域。</p>
<h3 id="1-camera-calibration">1. <strong>相机标定（Camera Calibration）</strong></h3>
<p>需要先对相机进行标定，以获得相机的内参和外参。标定过程通常包括：</p>
<ul>
<li><strong>内参</strong>：包括焦距、光心等参数，可以通过棋盘格标定法或其他方法获得。</li>
<li><strong>外参</strong>：相机与世界坐标系的相对位置和姿态，通常通过一个已知的标定场景（例如立体标定或激光扫描数据）来计算。</li>
</ul>
<p>这一步骤的目的是为了得到相机的投影矩阵（camera projection matrix），即从三维世界坐标到二维图像坐标的映射关系。</p>
<h3 id="2">2. <strong>图像预处理</strong></h3>
<p>进行图像预处理来提高后续处理的精度：</p>
<ul>
<li><strong>去畸变</strong>：根据相机标定信息，使用去畸变方法（例如 OpenCV 中的 <code>undistort()</code>）修正相机图像的畸变。</li>
<li><strong>灰度化或色彩通道提取</strong>：将图像转换为灰度图或提取需要的色彩通道，这取决于后续的处理需求。</li>
</ul>
<h3 id="3-roi">3. <strong>选择感兴趣区域（ROI）</strong></h3>
<p>根据实际场景，选择一个区域或区域的范围，限制 BEV 映射的范围。通常，BEV 视图关注地面区域，因此需要定义一个从相机到地面的一定范围。
   选择感兴趣区域（ROI）虽然不是必需的，但通常会带来明显的计算效率和精度提升，尤其是在复杂的视觉任务中。如果任务对全图有需求，或者场景较简单，也可以选择不限定 ROI 进行处理。</p>
<h3 id="4-perspective-transformation">4. <strong>透视变换（Perspective Transformation）</strong></h3>
<p>通过透视变换将相机图像转换为俯视图。此过程可以通过以下步骤实现：</p>
<ul>
<li><strong>构造变换矩阵</strong>：使用相机的内参和外参来计算变换矩阵。这通常涉及到计算透视投影矩阵，使得从相机的二维图像坐标到世界坐标系的三维坐标之间建立映射关系。</li>
<li><strong>定义 BEV 视图的坐标系统</strong>：确定 BEV 视图的尺寸、角度和分辨率。这可能需要设定一个正交的投影（即没有透视效果）来简化计算。</li>
<li><strong>应用变换</strong>：使用透视变换算法（例如 OpenCV 中的 <code>cv2.getPerspectiveTransform()</code>）将原始图像转换到 BEV 视图。</li>
</ul>
<h3 id="5">5. <strong>深度估计（可选）</strong></h3>
<p>如果需要精确的三维重建，可以使用深度估计技术（例如单目深度估计、结构光、激光雷达或立体相机）获取每个像素点的深度信息。结合深度信息，能够更准确地计算从相机图像到 BEV 视图的变换。</p>
<ul>
<li><strong>单目深度估计</strong>：利用深度估计模型（如深度神经网络）进行单目图像的深度预测。</li>
<li><strong>深度图融合</strong>：在图像中应用深度信息，增强投影结果的真实性。</li>
</ul>
<h3 id="6-bev">6. <strong>合成 BEV 图像</strong></h3>
<p>在获得变换后的图像数据后，可以进行一些图像合成操作：</p>
<ul>
<li><strong>填充空白区域</strong>：由于透视变换，部分区域可能为空白，可以使用插值算法（例如双线性插值）进行填充。</li>
<li><strong>平滑与降噪</strong>：可以使用高斯滤波或其他图像处理方法平滑图像，去除噪点。</li>
</ul>
<p>如果使用深度信息，还可以根据物体的实际位置和姿态进行进一步调整。</p>
<h3 id="7">7. <strong>后处理与优化</strong></h3>
<ul>
<li><strong>目标检测与跟踪</strong>：如果 BEV 图像用于自动驾驶等应用，通常会在 BEV 图像中进行目标检测和跟踪。</li>
<li><strong>滤波与精度提升</strong>：基于贝叶斯滤波器或卡尔曼滤波器等方法来进一步优化 BEV 图像中的目标位置。</li>
</ul>
<h3 id="_2">总结</h3>
<p>从单目相机图像到 BEV 视图的转换流程通常涉及标定、预处理、透视变换、深度估计（可选）、图像合成和后处理等步骤。核心的工作是根据相机的投影模型和世界坐标系的关系，通过透视变换将图像从相机视角转换为俯视图。这一过程对精确的相机标定和可能的深度信息依赖较大。</p>
<p>是否需要更详细的代码或某个特定步骤的讲解？</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
